## kube-burnet

- vm으로 테스트하면 스펙에 한계가 생겨서 kind cluster로 사용 하면 좋음
- kube-berner : 쿠버네티스 performance, scale, alarting ... 도구

### kubenetes max pods 설정

- 쿠버네티스 노드에서 default는 노드당 110개 파드 띄울 수 있음

  ```bash
  kubectl describe node | grep -A20 Capacity
  ...
  Capacity:
    cpu:                8
    ephemeral-storage:  1055761844Ki
    hugepages-1Gi:      0
    hugepages-2Mi:      0
    hugepages-32Mi:     0
    hugepages-64Ki:     0
    memory:             12236104Ki
    pods:               110
  Allocatable:
    cpu:                8
    ephemeral-storage:  1055761844Ki
    hugepages-1Gi:      0
    hugepages-2Mi:      0
    hugepages-32Mi:     0
    hugepages-64Ki:     0
    memory:             12236104Ki
    pods:               110
  ```

- 더 많은 파드를 띄우고 싶은 경우 maxPods 옵션을 수정해야 한다.

  ```bash
  vim /var/lib/kubelet/config.yaml
  maxPods: 150
  ```

- default CIDR은 /24 이기 때문에 250개다.

  ```bash
  kubectl describe node cilium-w1 | grep -i podcidr
  PodCIDR:        10.244.0.0/24
  ```

## k8s performance tuning












## cilium performance